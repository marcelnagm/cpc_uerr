CREATE TABLE academic_title (id BIGSERIAL, degree_id BIGINT NOT NULL, area_id BIGINT NOT NULL, course VARCHAR(255) NOT NULL, instituition VARCHAR(255) NOT NULL, conclude_at VARCHAR(4) NOT NULL, professor_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE address (id BIGSERIAL, country_id BIGINT NOT NULL, state_id BIGINT NOT NULL, city_id BIGINT NOT NULL, district VARCHAR(255) NOT NULL, street VARCHAR(255) NOT NULL, complement VARCHAR(255), cep VARCHAR(255) NOT NULL, student_id BIGINT, professor_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE campus (id BIGSERIAL, name VARCHAR(255) NOT NULL UNIQUE, state_id BIGINT DEFAULT 22 NOT NULL, city_id BIGINT NOT NULL, address TEXT NOT NULL, is_active BOOLEAN DEFAULT 'true' NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE city (id BIGSERIAL, name VARCHAR(255) NOT NULL, state_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE competition_criteria (id BIGSERIAL, description VARCHAR(255) NOT NULL UNIQUE, code VARCHAR(20) NOT NULL UNIQUE, value FLOAT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE country (id BIGSERIAL, acronym2 VARCHAR(2) NOT NULL, acronym3 VARCHAR(3) NOT NULL, code VARCHAR(244) NOT NULL, name VARCHAR(255) NOT NULL, PRIMARY KEY(id));
CREATE TABLE course (id BIGSERIAL, code VARCHAR(255) NOT NULL UNIQUE, name VARCHAR(255) NOT NULL UNIQUE, abb VARCHAR(10) NOT NULL UNIQUE, department_id BIGINT NOT NULL, coordinator_id BIGINT, type_id BIGINT NOT NULL, round_id BIGINT NOT NULL, recognization TEXT, auth TEXT NOT NULL, historic_header VARCHAR(500) NOT NULL, is_active BOOLEAN DEFAULT 'true' NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE course_round (id BIGSERIAL, name VARCHAR(255) NOT NULL UNIQUE, PRIMARY KEY(id));
CREATE TABLE course_type (id BIGSERIAL, name VARCHAR(255) NOT NULL UNIQUE, PRIMARY KEY(id));
CREATE TABLE curriculum_model (id BIGSERIAL, name VARCHAR(255) NOT NULL UNIQUE, course_id BIGINT NOT NULL, hours BIGINT NOT NULL, total_semesters BIGINT NOT NULL, required_disciplines BIGINT DEFAULT 0 NOT NULL, optative_disciplines BIGINT DEFAULT 0 NOT NULL, elective_disciplines BIGINT DEFAULT 0 NOT NULL, minimum_period VARCHAR(255), maximum_period VARCHAR(255), active BOOLEAN DEFAULT 'true', created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE department (id BIGSERIAL, name VARCHAR(255) NOT NULL UNIQUE, sponsor_id BIGINT, email VARCHAR(128) NOT NULL UNIQUE, phone VARCHAR(255), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE discipline (id BIGSERIAL, name VARCHAR(255) NOT NULL, code VARCHAR(50) NOT NULL UNIQUE, department_id BIGINT NOT NULL, curriculum TEXT, hours BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE discipline_curriculum_model (id BIGSERIAL, curriculum_model_id BIGINT NOT NULL, discipline_id BIGINT NOT NULL, semester BIGINT NOT NULL, type_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE discipline_matriculation (id BIGSERIAL, discipline_id BIGINT NOT NULL, matriculation_id BIGINT NOT NULL, semester_id BIGINT, offer_matriculation_id BIGINT, aggregation_type VARCHAR(3), average NUMERIC(6,2), absences INT, situation VARCHAR(3), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE discipline_type (id BIGSERIAL, name VARCHAR(255) NOT NULL UNIQUE, PRIMARY KEY(id));
CREATE TABLE documentation (id BIGSERIAL, personal_documents VARCHAR(255), historical_school VARCHAR(255), photo VARCHAR(255), medical_certificate VARCHAR(255), diploma VARCHAR(255), single_emancipated VARCHAR(255), student_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE historical_school (id BIGSERIAL, school VARCHAR(255) NOT NULL, country_id BIGINT NOT NULL, state_id BIGINT NOT NULL, city_id BIGINT NOT NULL, school_type VARCHAR(255) NOT NULL, course VARCHAR(255) NOT NULL, completed_at VARCHAR(255) NOT NULL, student_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE instituition (id BIGSERIAL, name VARCHAR(255) NOT NULL UNIQUE, PRIMARY KEY(id));
CREATE TABLE locking_semester (semester_id BIGINT, matriculation_id BIGINT, PRIMARY KEY(semester_id, matriculation_id));
CREATE TABLE matriculation (id BIGSERIAL, code BIGINT NOT NULL, campus_id BIGINT NOT NULL, course_id BIGINT NOT NULL, curriculum_model_id BIGINT NOT NULL, email VARCHAR(255) NOT NULL UNIQUE, student_id BIGINT NOT NULL, entry_method VARCHAR(255) NOT NULL, semester_id BIGINT NOT NULL, vacancy_reserve BOOLEAN DEFAULT 'false' NOT NULL, student_finance BOOLEAN DEFAULT 'false' NOT NULL, social_support BOOLEAN DEFAULT 'false' NOT NULL, complementary_training BOOLEAN DEFAULT 'false' NOT NULL, disabled_at DATE, reason_disabled VARCHAR(255), description_disabled VARCHAR(255), enad_made BOOLEAN DEFAULT 'false' NOT NULL, enad_made_at DATE, conclude_at DATE, user_id BIGINT, is_active BOOLEAN DEFAULT 'true' NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE offer (id BIGSERIAL, campus_id BIGINT NOT NULL, department_id BIGINT NOT NULL, course_id BIGINT NOT NULL, curriculum_model_id BIGINT NOT NULL, discipline_id BIGINT NOT NULL, grade VARCHAR(128) NOT NULL, semester_id BIGINT NOT NULL, places BIGINT NOT NULL, status BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE offer_matriculation (id BIGSERIAL, offer_id BIGINT NOT NULL, matriculation_id BIGINT NOT NULL, semester_id BIGINT NOT NULL, note1 NUMERIC(6,2), note2 NUMERIC(6,2), note3 NUMERIC(6,2), note4 NUMERIC(6,2), absences INT, locked BOOLEAN DEFAULT 'false', created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE offer_professor (id BIGSERIAL, offer_id BIGINT NOT NULL, professor_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE offer_requisition (id BIGSERIAL, offer_id BIGINT NOT NULL, matriculation_id BIGINT NOT NULL, semester_id BIGINT NOT NULL, stage BIGINT NOT NULL, situation VARCHAR(5), score INT DEFAULT 0, process_date datetime, PRIMARY KEY(id));
CREATE TABLE offer_schedule (id BIGSERIAL, room_id BIGINT, day BIGINT NOT NULL, schedule_id BIGINT NOT NULL, offer_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE parameters (id BIGSERIAL, name VARCHAR(255) NOT NULL UNIQUE, description VARCHAR(255), value BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE person (id BIGSERIAL, name VARCHAR(255) NOT NULL, birth DATE NOT NULL, phone VARCHAR(255), cel VARCHAR(255), civil_status VARCHAR(255) NOT NULL, sex VARCHAR(1) NOT NULL, deficiency VARCHAR(255), rg VARCHAR(255), rg_organ VARCHAR(255), rg_expedition DATE, is_stranger BOOLEAN DEFAULT 'false' NOT NULL, voter VARCHAR(255), passport VARCHAR(255), mother VARCHAR(255) NOT NULL, father VARCHAR(255), nacionality BIGINT DEFAULT 33 NOT NULL, naturally VARCHAR(255) NOT NULL, race VARCHAR(255) NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE prerequisite (prerequisite_id BIGINT, discipline_curriculum_model_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(prerequisite_id, discipline_curriculum_model_id));
CREATE TABLE professor (id BIGSERIAL, name VARCHAR(255) NOT NULL, birth DATE NOT NULL, phone VARCHAR(255), cel VARCHAR(255), civil_status VARCHAR(255) NOT NULL, sex VARCHAR(1) NOT NULL, deficiency VARCHAR(255), rg VARCHAR(255), rg_organ VARCHAR(255), rg_expedition DATE, is_stranger BOOLEAN DEFAULT 'false' NOT NULL, voter VARCHAR(255), passport VARCHAR(255), mother VARCHAR(255) NOT NULL, father VARCHAR(255), nacionality BIGINT DEFAULT 33 NOT NULL, naturally VARCHAR(255) NOT NULL, race VARCHAR(255) NOT NULL, user_id BIGINT, department_id BIGINT, course_id BIGINT, cpf VARCHAR(255) NOT NULL UNIQUE, email VARCHAR(255) NOT NULL UNIQUE, is_active BOOLEAN DEFAULT 'false' NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE room (id BIGSERIAL, name VARCHAR(255) NOT NULL, campus_id BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE schedule (id BIGSERIAL, name VARCHAR(255) NOT NULL, start_at TIME, end_at TIME, PRIMARY KEY(id));
CREATE TABLE semester (id BIGSERIAL, year VARCHAR(4), period VARCHAR(255), start_date TIMESTAMP NOT NULL, end_date TIMESTAMP NOT NULL, start_matriculation TIMESTAMP NOT NULL, end_matriculation TIMESTAMP NOT NULL, process_date TIMESTAMP, number_process BIGINT NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE semester_matriculation (semester_id BIGINT, matriculation_id BIGINT, choice BIGINT NOT NULL, PRIMARY KEY(semester_id, matriculation_id));
CREATE TABLE state (id BIGSERIAL, name VARCHAR(255) NOT NULL, uf VARCHAR(255) NOT NULL, country_id BIGINT NOT NULL, PRIMARY KEY(id));
CREATE TABLE student (id BIGSERIAL, name VARCHAR(255) NOT NULL, birth DATE NOT NULL, phone VARCHAR(255), cel VARCHAR(255), civil_status VARCHAR(255) NOT NULL, sex VARCHAR(1) NOT NULL, deficiency VARCHAR(255), rg VARCHAR(255), rg_organ VARCHAR(255), rg_expedition DATE, is_stranger BOOLEAN DEFAULT 'false' NOT NULL, voter VARCHAR(255), passport VARCHAR(255), mother VARCHAR(255) NOT NULL, father VARCHAR(255), nacionality BIGINT DEFAULT 33 NOT NULL, naturally VARCHAR(255) NOT NULL, race VARCHAR(255) NOT NULL, cpf VARCHAR(255) UNIQUE, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, created_by BIGINT, updated_by BIGINT, PRIMARY KEY(id));
CREATE TABLE student_instituition (student_id BIGINT, instituition_id BIGINT, PRIMARY KEY(student_id, instituition_id));
CREATE TABLE sf_guard_forgot_password (id BIGSERIAL, user_id BIGINT NOT NULL, unique_key VARCHAR(255), expires_at TIMESTAMP NOT NULL, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_group (id BIGSERIAL, name VARCHAR(255) UNIQUE, description VARCHAR(1000), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_group_permission (group_id BIGINT, permission_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(group_id, permission_id));
CREATE TABLE sf_guard_module (id BIGSERIAL, name VARCHAR(255) UNIQUE, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_permission (id BIGSERIAL, name VARCHAR(255) UNIQUE, module_id BIGINT, description VARCHAR(1000), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_remember_key (id BIGSERIAL, user_id BIGINT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_user (id BIGSERIAL, first_name VARCHAR(255), last_name VARCHAR(255), email_address VARCHAR(255) NOT NULL UNIQUE, username VARCHAR(128) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active BOOLEAN DEFAULT 'true', is_super_admin BOOLEAN DEFAULT 'false', last_login TIMESTAMP, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(id));
CREATE TABLE sf_guard_user_group (user_id BIGINT, group_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(user_id, group_id));
CREATE TABLE sf_guard_user_permission (user_id BIGINT, permission_id BIGINT, created_at TIMESTAMP NOT NULL, updated_at TIMESTAMP NOT NULL, PRIMARY KEY(user_id, permission_id));
CREATE UNIQUE INDEX curriculum_discipline ON discipline_curriculum_model (curriculum_model_id, discipline_id);
CREATE UNIQUE INDEX discipline_matriculation_semester ON discipline_matriculation (discipline_id, matriculation_id, semester_id);
CREATE UNIQUE INDEX campus_discipline_grade_semester ON offer (campus_id, discipline_id, grade, semester_id);
CREATE UNIQUE INDEX offer_matriculations ON offer_matriculation (offer_id, matriculation_id);
CREATE UNIQUE INDEX unique_name ON room (name, campus_id);
CREATE UNIQUE INDEX year_period ON semester (year, period);
CREATE INDEX is_active_idx ON sf_guard_user (is_active);
ALTER TABLE academic_title ADD CONSTRAINT academic_title_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE academic_title ADD CONSTRAINT academic_title_professor_id_professor_id FOREIGN KEY (professor_id) REFERENCES professor(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE academic_title ADD CONSTRAINT academic_title_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE address ADD CONSTRAINT address_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE address ADD CONSTRAINT address_student_id_student_id FOREIGN KEY (student_id) REFERENCES student(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE address ADD CONSTRAINT address_state_id_state_id FOREIGN KEY (state_id) REFERENCES state(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE address ADD CONSTRAINT address_professor_id_professor_id FOREIGN KEY (professor_id) REFERENCES professor(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE address ADD CONSTRAINT address_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE address ADD CONSTRAINT address_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE address ADD CONSTRAINT address_city_id_city_id FOREIGN KEY (city_id) REFERENCES city(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE campus ADD CONSTRAINT campus_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE campus ADD CONSTRAINT campus_state_id_state_id FOREIGN KEY (state_id) REFERENCES state(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE campus ADD CONSTRAINT campus_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE campus ADD CONSTRAINT campus_city_id_city_id FOREIGN KEY (city_id) REFERENCES city(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE city ADD CONSTRAINT city_state_id_state_id FOREIGN KEY (state_id) REFERENCES state(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE competition_criteria ADD CONSTRAINT competition_criteria_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE competition_criteria ADD CONSTRAINT competition_criteria_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course ADD CONSTRAINT course_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course ADD CONSTRAINT course_type_id_course_type_id FOREIGN KEY (type_id) REFERENCES course_type(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course ADD CONSTRAINT course_round_id_course_round_id FOREIGN KEY (round_id) REFERENCES course_round(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course ADD CONSTRAINT course_department_id_department_id FOREIGN KEY (department_id) REFERENCES department(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course ADD CONSTRAINT course_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE course ADD CONSTRAINT course_coordinator_id_professor_id FOREIGN KEY (coordinator_id) REFERENCES professor(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE curriculum_model ADD CONSTRAINT curriculum_model_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE curriculum_model ADD CONSTRAINT curriculum_model_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE curriculum_model ADD CONSTRAINT curriculum_model_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE department ADD CONSTRAINT department_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE department ADD CONSTRAINT department_sponsor_id_professor_id FOREIGN KEY (sponsor_id) REFERENCES professor(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE department ADD CONSTRAINT department_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline ADD CONSTRAINT discipline_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline ADD CONSTRAINT discipline_department_id_department_id FOREIGN KEY (department_id) REFERENCES department(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline ADD CONSTRAINT discipline_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline_curriculum_model ADD CONSTRAINT discipline_curriculum_model_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline_curriculum_model ADD CONSTRAINT discipline_curriculum_model_type_id_discipline_type_id FOREIGN KEY (type_id) REFERENCES discipline_type(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline_curriculum_model ADD CONSTRAINT discipline_curriculum_model_discipline_id_discipline_id FOREIGN KEY (discipline_id) REFERENCES discipline(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline_curriculum_model ADD CONSTRAINT discipline_curriculum_model_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline_curriculum_model ADD CONSTRAINT dcci FOREIGN KEY (curriculum_model_id) REFERENCES curriculum_model(id) ON DELETE cascade NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline_matriculation ADD CONSTRAINT dooi FOREIGN KEY (offer_matriculation_id) REFERENCES offer_matriculation(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline_matriculation ADD CONSTRAINT discipline_matriculation_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline_matriculation ADD CONSTRAINT discipline_matriculation_semester_id_semester_id FOREIGN KEY (semester_id) REFERENCES semester(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline_matriculation ADD CONSTRAINT discipline_matriculation_matriculation_id_matriculation_id FOREIGN KEY (matriculation_id) REFERENCES matriculation(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline_matriculation ADD CONSTRAINT discipline_matriculation_discipline_id_discipline_id FOREIGN KEY (discipline_id) REFERENCES discipline(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE discipline_matriculation ADD CONSTRAINT discipline_matriculation_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE documentation ADD CONSTRAINT documentation_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE documentation ADD CONSTRAINT documentation_student_id_student_id FOREIGN KEY (student_id) REFERENCES student(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE documentation ADD CONSTRAINT documentation_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE historical_school ADD CONSTRAINT historical_school_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE historical_school ADD CONSTRAINT historical_school_student_id_student_id FOREIGN KEY (student_id) REFERENCES student(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE historical_school ADD CONSTRAINT historical_school_state_id_state_id FOREIGN KEY (state_id) REFERENCES state(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE historical_school ADD CONSTRAINT historical_school_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE historical_school ADD CONSTRAINT historical_school_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE historical_school ADD CONSTRAINT historical_school_city_id_city_id FOREIGN KEY (city_id) REFERENCES city(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE locking_semester ADD CONSTRAINT locking_semester_semester_id_semester_id FOREIGN KEY (semester_id) REFERENCES semester(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE locking_semester ADD CONSTRAINT locking_semester_matriculation_id_matriculation_id FOREIGN KEY (matriculation_id) REFERENCES matriculation(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE matriculation ADD CONSTRAINT matriculation_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE matriculation ADD CONSTRAINT matriculation_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE matriculation ADD CONSTRAINT matriculation_student_id_student_id FOREIGN KEY (student_id) REFERENCES student(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE matriculation ADD CONSTRAINT matriculation_semester_id_semester_id FOREIGN KEY (semester_id) REFERENCES semester(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE matriculation ADD CONSTRAINT matriculation_curriculum_model_id_curriculum_model_id FOREIGN KEY (curriculum_model_id) REFERENCES curriculum_model(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE matriculation ADD CONSTRAINT matriculation_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE matriculation ADD CONSTRAINT matriculation_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE matriculation ADD CONSTRAINT matriculation_campus_id_campus_id FOREIGN KEY (campus_id) REFERENCES campus(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer ADD CONSTRAINT offer_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer ADD CONSTRAINT offer_semester_id_semester_id FOREIGN KEY (semester_id) REFERENCES semester(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer ADD CONSTRAINT offer_discipline_id_discipline_id FOREIGN KEY (discipline_id) REFERENCES discipline(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer ADD CONSTRAINT offer_department_id_department_id FOREIGN KEY (department_id) REFERENCES department(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer ADD CONSTRAINT offer_curriculum_model_id_curriculum_model_id FOREIGN KEY (curriculum_model_id) REFERENCES curriculum_model(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer ADD CONSTRAINT offer_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer ADD CONSTRAINT offer_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer ADD CONSTRAINT offer_campus_id_campus_id FOREIGN KEY (campus_id) REFERENCES campus(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_matriculation ADD CONSTRAINT offer_matriculation_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_matriculation ADD CONSTRAINT offer_matriculation_semester_id_semester_id FOREIGN KEY (semester_id) REFERENCES semester(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_matriculation ADD CONSTRAINT offer_matriculation_offer_id_offer_id FOREIGN KEY (offer_id) REFERENCES offer(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_matriculation ADD CONSTRAINT offer_matriculation_matriculation_id_matriculation_id FOREIGN KEY (matriculation_id) REFERENCES matriculation(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_matriculation ADD CONSTRAINT offer_matriculation_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_professor ADD CONSTRAINT offer_professor_professor_id_professor_id FOREIGN KEY (professor_id) REFERENCES professor(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_professor ADD CONSTRAINT offer_professor_offer_id_offer_id FOREIGN KEY (offer_id) REFERENCES offer(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_requisition ADD CONSTRAINT offer_requisition_semester_id_semester_id FOREIGN KEY (semester_id) REFERENCES semester(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_requisition ADD CONSTRAINT offer_requisition_offer_id_offer_id FOREIGN KEY (offer_id) REFERENCES offer(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_requisition ADD CONSTRAINT offer_requisition_matriculation_id_matriculation_id FOREIGN KEY (matriculation_id) REFERENCES matriculation(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_schedule ADD CONSTRAINT offer_schedule_schedule_id_schedule_id FOREIGN KEY (schedule_id) REFERENCES schedule(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_schedule ADD CONSTRAINT offer_schedule_room_id_room_id FOREIGN KEY (room_id) REFERENCES room(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE offer_schedule ADD CONSTRAINT offer_schedule_offer_id_offer_id FOREIGN KEY (offer_id) REFERENCES offer(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE parameters ADD CONSTRAINT parameters_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE parameters ADD CONSTRAINT parameters_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE person ADD CONSTRAINT person_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE person ADD CONSTRAINT person_nacionality_country_id FOREIGN KEY (nacionality) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE person ADD CONSTRAINT person_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE prerequisite ADD CONSTRAINT prerequisite_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE prerequisite ADD CONSTRAINT prerequisite_prerequisite_id_discipline_id FOREIGN KEY (prerequisite_id) REFERENCES discipline(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE prerequisite ADD CONSTRAINT prerequisite_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE prerequisite ADD CONSTRAINT pddi FOREIGN KEY (discipline_curriculum_model_id) REFERENCES discipline_curriculum_model(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE professor ADD CONSTRAINT professor_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE professor ADD CONSTRAINT professor_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE professor ADD CONSTRAINT professor_nacionality_country_id FOREIGN KEY (nacionality) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE professor ADD CONSTRAINT professor_department_id_department_id FOREIGN KEY (department_id) REFERENCES department(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE professor ADD CONSTRAINT professor_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE professor ADD CONSTRAINT professor_course_id_course_id FOREIGN KEY (course_id) REFERENCES course(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE room ADD CONSTRAINT room_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE room ADD CONSTRAINT room_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE room ADD CONSTRAINT room_campus_id_campus_id FOREIGN KEY (campus_id) REFERENCES campus(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE semester ADD CONSTRAINT semester_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE semester ADD CONSTRAINT semester_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE semester_matriculation ADD CONSTRAINT semester_matriculation_semester_id_semester_id FOREIGN KEY (semester_id) REFERENCES semester(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE semester_matriculation ADD CONSTRAINT semester_matriculation_matriculation_id_matriculation_id FOREIGN KEY (matriculation_id) REFERENCES matriculation(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE state ADD CONSTRAINT state_country_id_country_id FOREIGN KEY (country_id) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student ADD CONSTRAINT student_updated_by_sf_guard_user_id FOREIGN KEY (updated_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student ADD CONSTRAINT student_nacionality_country_id FOREIGN KEY (nacionality) REFERENCES country(id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student ADD CONSTRAINT student_created_by_sf_guard_user_id FOREIGN KEY (created_by) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_instituition ADD CONSTRAINT student_instituition_student_id_student_id FOREIGN KEY (student_id) REFERENCES student(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE student_instituition ADD CONSTRAINT student_instituition_instituition_id_instituition_id FOREIGN KEY (instituition_id) REFERENCES instituition(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_forgot_password ADD CONSTRAINT sf_guard_forgot_password_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_group_permission ADD CONSTRAINT sf_guard_group_permission_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_permission ADD CONSTRAINT sf_guard_permission_module_id_sf_guard_module_id FOREIGN KEY (module_id) REFERENCES sf_guard_module(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_remember_key ADD CONSTRAINT sf_guard_remember_key_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_user_group ADD CONSTRAINT sf_guard_user_group_group_id_sf_guard_group_id FOREIGN KEY (group_id) REFERENCES sf_guard_group(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_user_id_sf_guard_user_id FOREIGN KEY (user_id) REFERENCES sf_guard_user(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE sf_guard_user_permission ADD CONSTRAINT sf_guard_user_permission_permission_id_sf_guard_permission_id FOREIGN KEY (permission_id) REFERENCES sf_guard_permission(id) ON DELETE CASCADE NOT DEFERRABLE INITIALLY IMMEDIATE;
